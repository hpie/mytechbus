<template>
<div class="page" data-name="initial-setup">
  <div class="navbar">
    <div class="navbar-inner sliding">
      <div class="left">
        <a href="#" class="link back">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
      <div class="title">Initial Setup</div>
    </div>
  </div>
  <div class="page-content">
    
	<!-- ---------------------------------------------------- -->
	<form class="list" id="my-form">

	<div class="item-content item-input">
        <div class="item-inner">
          <div class="item-title item-label">Routes</div>
          <div class="item-input-wrap">
            <select name="routes_select" id="routes_select">
              <!-- <option value="male" selected>Male</option>
              <option value="female">Female</option> -->
			  <option value="" selected>Select Route</option>
			  {{select_data}}
            </select>
          </div>
        </div>
      </div>

  <!-- <ul>
  	<li>
      <div class="item-content item-input">
        <div class="item-inner">
          <div class="item-title item-label">Routes</div>
          <div class="item-input-wrap">
            <select name="routes_select" id="routes_select">
              <option value="male" selected>Male</option>
              <option value="female">Female</option>
  			  <option value="" selected>Select Route</option>
  			  {{select_data}}
            </select>
          </div>
        </div>
      </div>
    </li> -->
   <!--  <li>
      <div class="item-content item-input">
        <div class="item-inner">
          <div class="item-title item-label">Name</div>
          <div class="item-input-wrap">
            <input type="text" name="name" placeholder="Your name">
          </div>
        </div>
      </div>
    </li> -->
    <!-- <li>
      <div class="item-content item-input">
        <div class="item-inner">
          <div class="item-title item-label">E-mail</div>
          <div class="item-input-wrap">
            <input type="email" name="email" placeholder="E-mail">
          </div>
        </div>
      </div>
    </li>
    <li>
      <div class="item-content item-input">
        <div class="item-inner">
          <div class="item-title item-label">Gender</div>
          <div class="item-input-wrap">
            <select name="gender">
              <option value="male" selected>Male</option>
              <option value="female">Female</option>
            </select>
          </div>
        </div>
      </div>
    </li>
    <li>
      <div class="item-content">
        <div class="item-inner">
          <div class="item-title">Toggle</div>
          <div class="item-after">
            <label class="toggle toggle-init">
              <input type="checkbox" name="toggle" value="yes"><i class="toggle-icon"></i>
            </label>
          </div>
        </div>
      </div>
    </li> -->
  <!-- </ul> -->
</form>
<div class="block block-strong row">
  <div class="col"><a href="#" class="item-link list-button" @click="update">Update Info</a></div>
</div>
	<!-- ---------------------------------------------------- -->
  </div>
</div>
</template>
<script>

	$$('.convert-form-to-data').on('click', function(){
	  var formData = app.form.convertToData('#my-form');
	  alert(JSON.stringify(formData));
	});

  return {
    methods: {
      update: function () {
        var $ = this.$;
        var app = this.$app;
        var router = this.$router;
        

		var selected_route = $$('#routes_select').val();

		//alert("Selected : " + $$('#routes_select').val());
		 var formData = app.form.convertToData('#my-form');
		alert(JSON.stringify(formData));
		

		//alert('hi');

		 if(selected_route != '') {
			localStorage.setItem('selected_route', selected_route);
			app.dialog.alert('Route '+ selected_route +' has been set');

			router.back();

		 } else {
			app.dialog.alert('please enter required fields');
		}        
      }
    }
  }
</script>
